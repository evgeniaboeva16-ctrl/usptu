# –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (models34.js)

–§–∞–π–ª `models34.js` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö Sequilize, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–∏—Å—Ç–µ–º—ã –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞. –≠—Ç–∏ –º–æ–¥–µ–ª–∏ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–§–ò–ê–°) –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏.

## üìå –û–±–∑–æ—Ä –º–æ–¥–µ–ª–µ–π

–í —Ñ–∞–π–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã 3 –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:

1.  **FiasAddress** (`fias_addresses`)
2.  **EducationDocumentType** (`education_document_types`)
3.  **EducationDocument** (`education_documents`)

### 1. FiasAddress
–ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–¥—Ä–µ—Å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –§–ò–ê–°. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
*   `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (UUID).
*   `user_id`: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–≤—è–∑—å —Å `AbiturientProfile`/`User`).
*   `full_address_text`: –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å.
*   `postal_code`: –ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å.
*   `region_...`, `district_...`, `locality_...`, `street_...`, `house_...`: –ü–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–¥–æ–≤ –§–ò–ê–° (GUID), –Ω–∞–∑–≤–∞–Ω–∏–π –∏ —Ç–∏–ø–æ–≤ –∞–¥—Ä–µ—Å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (—Ä–µ–≥–∏–æ–Ω, —Ä–∞–π–æ–Ω, –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç, —É–ª–∏—Ü–∞, –¥–æ–º).
*   `address_type`: –¢–∏–ø –∞–¥—Ä–µ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'registration' - –ø—Ä–æ–ø–∏—Å–∫–∞, 'residence' - –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ).

### 2. EducationDocumentType
–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∏–¥–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê—Ç—Ç–µ—Å—Ç–∞—Ç –∑–∞ 11 –∫–ª–∞—Å—Å–æ–≤", "–î–∏–ø–ª–æ–º –°–ü–û").

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
*   `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (UUID).
*   `name`: –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ).

### 3. EducationDocument
–ú–æ–¥–µ–ª—å, —Å–≤—è–∑—ã–≤–∞—é—â–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
*   `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (UUID).
*   `user_id`: –í–ª–∞–¥–µ–ª–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞.
*   `school_id`: –£—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ, –≤—ã–¥–∞–≤—à–µ–µ –¥–æ–∫—É–º–µ–Ω—Ç.
*   `document_type_id`: –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞.
*   `series`, `number`: –°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞.
*   `issue_date`: –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏.
*   `graduation_year`: –ì–æ–¥ –æ–∫–æ–Ω—á–∞–Ω–∏—è.
*   `average_grade`: –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª (–¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π).
*   `frdo_unique_id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ –§–†–î–û (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

---

## üîó –°–≤—è–∑–∏ (Associations)

–í —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏:

### –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç (AbiturientProfile)
*   **–ò–º–µ–µ—Ç –º–Ω–æ–≥–æ** –∞–¥—Ä–µ—Å–æ–≤ (`hasMany FiasAddress`).
*   **–ò–º–µ–µ—Ç –º–Ω–æ–≥–æ** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ (`hasMany EducationDocument`).

### –®–∫–æ–ª–∞ (School)
*   **–í—ã–¥–∞–ª–∞ –º–Ω–æ–≥–æ** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (`hasMany EducationDocument`).

### –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (EducationDocumentType)
*   **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö** –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö (`hasMany EducationDocument`).

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–∏—Ö –º–æ–¥–µ–ª–µ–π –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏—Ö –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:

```javascript
const { 
  FiasAddress, 
  EducationDocumentType, 
  EducationDocument 
} = require('./database/models34');

// –ü—Ä–∏–º–µ—Ä: –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const docs = await EducationDocument.findAll({
  where: { user_id: 123 },
  include: ['DocumentsOfType', 'IssuedDocuments'] // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª–∏–∞—Å—ã —Å–≤—è–∑–µ–π –µ—Å–ª–∏ –æ–Ω–∏ –∑–∞–¥–∞–Ω—ã
});
```

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `sequelize` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `./config`.*
